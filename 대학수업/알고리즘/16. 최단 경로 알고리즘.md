### 최단 경로의 속성
1. 최단 경로의 부분경로 역시 최단 경로이다.
2. 출발 정점으로부터 다른 모든 정점들에 이르는 최단 경로들의 트리가 존재한다.
### 최소 신장 트리와의 비교
최단 경로는 최소 신장 트리와 달리, 무방향 뿐 아닌 방향 그래프에서도 정의된다. 그래프에 음의 가중치를 가진 사이클이 있거나, 무향 그래프에 음의 가중치를 가진 간선이 있으면 만들 수 없다.

최단 경로 트리는 루트가 있는 트리이다.
### 다익스트라 알고리즘

그래프 : 음의 무게를 가진 간선이 없는 그래프
알고리즘 : 다익스트라
시간 : O(mlogn) or O(n2)
- 간선의 수가 정점의 수보다 많거나 하는 경우에 O(n^2)이 될 수 있음.

- 정점 s로부터 정점 v의 거리는 s와 v 사이의 최단 경로의 길이로 정의된다. 다익스트라 알고리즘은 출발정점 s로부터 다른 모든 정점까지의 거리를 계산한다.
- 이때, 그래프가 연결되어 있고, 간선들이 무향이며 가중치가 음수가 아님을 전제로 한다.
- s로부터 시작하여 정점들을 차례로 배낭에 넣다가, 결국 모든 정점을 배낭에 넣는데 이때, 각 정점 v에 라벨 d(v)를 저장하여, 배낭과 인접 정점들을 구성하는 부그래프에서 s로부터 v까지의 거리를 표현한다.
- 반복의 각 회전에서, 배낭 밖의 정점 가운데 거리 라벨 d가 최소인 정점 u를 배낭에 넣고, u에 인접한 정점들의 라벨을 갱신한다.
- 우선순위 큐에 배낭 밖의 정점들을 보관하는데, 거리 d를 키값으로 한다. 각 정점 v에 d(v)와 우선순위 큐에서 v의 위치를 나타내는 위치자를 저장한다.
```c
Alg DijkstraShortesPaths(G, s)

for v in G.vertices()
	d(v) = infinity
d(s) = 0
Q = 모든 G의 노드들과 라벨 d를 담은 우선순위 큐
while(!Q.isEmpty())
	u = Q.removeMin()
	for e in G.incidentEdges(u)
		z = G.opposite(u, e)
		if z in Q.elements()
			if d(u) + w(u, z) < d(z)
				d(z) = d(u) + w(u, z)
				Q.replaceKey(z, d(z))

```

다익스트라 알고리즘은 탐욕법이다. 이는 모순법으로 증명 가능하다.  
만약 어떤 정점 F의 거리가 알고리즘 내에서 최초로 잘못 처리되었다고 가정할 때, F는 이전 노드 D까지의 거리를 기반으로 계산된 결과이다. D까지의 계산은 완벽히 수행되었고, F가 처음 에러가 발생한 노드라고 하였는데, F가 잘못 계산되기 위해선 D가 잘못 계산되었어야 하므로 다익스트라 알고리즘은 항상 정확하다.
### 다익스트라 알고리즘 분석
인접 간선을 각 정점에 대해 한번씩 확인한다. 정점 z의 거리와 위치자 라벨을 O(deg(z))번 읽고 쓴다. 라벨을 읽고 쓰는데는 O(1)시간이 걸린다.

우선순위 큐를 힙으로 구현할 경우, 각 정점이 우선순위 큐에 한번 삽입되고 한번 삭제되며 각각 O(logn)시간 소요되고, 우선순위 큐 내의 정점 z의 키는 최대 deg(z)번 갱신되며 각각의 키 갱신에 O(logn)시간 소요된다.

그래프가 인접리스트 구조로 표현된 경우, 다익스트라 알고리즘은 O((n+m)logn)시간에 수행된다. 그래프가 연결되었으므로, 실행시간은 O(mlogn)으로 표시 가능하고, 그래프가 단순하다고 전재하므로, 이는 최악의 경우 O(n2logn)시간이다.

우선순위 큐를 무순리스트로 구현할 경우, 각 정점은 우선순위 큐에 한번 삽입되고 삭제되며, 삽입 삭제에 각각 O(1),O(n)시간이 소요된다. 우선순위 큐 내의 정점 z는 최대 deg(z)번 갱신되며, 각각의 갱신에 O(1)시간 소요된다.

그래프가 인접리스트로 표현된 경우, O(n^2+m)시간에 수행된다. 그래프가 단순하다고 전재하므로 이는 O(n^2)로 단순화 가능하다.

결과적으로 우선순위 큐를 힙으로 구현하면 O(mlogn)시간, 무순리스트로 구현하면 O(n^2)시간이 소요되는데, 상수적 요소로 보면 비슷하다. 다만 최악의 경우를 고려할 때, 희소그래프 (m<n^2/logn)에 대해서는 힙 구현이, 밀집그래프 (m>n^2/logn)에 대해서는 무순리스트 구현이 유리하다.
#### 음의 가중치 다루기
다익스트라 알고리즘은 음의 가중치를 가진 그래프에서 동작하지 않는다. 음의 가중치를 가진 싸이클이 다른 경로들의 무게 값을 헷갈리게 하기 때문이다.

이를 해결하기 위해, 음의 가중치를 가진 간선의 절댓값 k를 모든 가중치에 더해 음수 가중치를 없애줄 수 있다. 음의 가중치가 없는 상태로 최단 경로를 구한 후, 다시 k를 빼주면 된다.